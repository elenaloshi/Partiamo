<div class="product-detail-container">
  
    <!-- Messaggio di errore se prodotto non trovato -->
    <div *ngIf="errore && !viaggio" class="error-message">
      <p>⚠️ {{ errore }}</p>
      <button (click)="tornaLista()" class="btn-primary">
        Torna alla lista viaggi
      </button>
    </div>
  
    <!-- Dettagli prodotto -->
    <div *ngIf="viaggio" class="product-detail-card">
      
      <!-- Header con pulsante indietro -->
      <div class="detail-header">
        <button (click)="tornaLista()" class="btn-back">
          ← Torna alla lista
        </button>
      </div>
  
      <!-- Contenuto principale -->
      <div class="product-content">
        
        <!-- Immagine prodotto -->
        <div class="product-image-section">
          <img 
            [src]="'/assets/viaggi/' + viaggio.id_viaggio + '.jpg'"
            [alt]="viaggio.titolo"
            class="product-detail-image">
        </div>
  
        <!-- Informazioni prodotto -->
        <div class="product-info-section">
          
          <!-- Nome prodotto -->
          <h1 class="product-title">{{ viaggio.titolo }}</h1>
          
          <!-- Prezzo -->
          <div class="product-price">€{{ viaggio.prezzo }}</div>
          
          <!-- Descrizione -->
          <div class="product-description">
            <h3>📝 Descrizione</h3>
            <p>{{ viaggio.descrizione }}</p>
          </div>
  
          <!-- Dettagli aggiuntivi -->
          <div class="product-details">
            <div class="detail-item">
              <strong>🌍 Destinazione:</strong> {{ viaggio.destinazione }}
            </div>
            <div class="detail-item">
              <strong>🏷️ Categoria:</strong> {{ viaggio.categoria }}
            </div>
            <div class="detail-item">
              <strong>🪑 Posti disponibili:</strong> {{ viaggio.posti }}
            </div>
          </div>
  
          <!-- Sezione azioni per clienti -->
          <div *ngIf="isCliente" class="actions-section">
            
            <!-- Selettore quantità  -->
            <div class="quantity-selector">
              <label for="quantita" class="quantity-label">Quantità:</label>
              <input 
                type="number" 
                id="quantita"
                [(ngModel)]="qtaSelezionata"
                [min]="1"
                [max]="viaggio.posti"
                class="quantity-input">
            </div>
  
            <!-- Pulsanti azioni -->
            <div class="action-buttons">
              <button 
                (click)="aggiungiAlCarrello()"
                [disabled]="viaggio.posti === 0"
                class="btn-primary">
                <span *ngIf="viaggio.posti > 0">🛒 Aggiungi al carrello</span>
                <span *ngIf="viaggio.posti === 0">💔 Non disponibile</span>
              </button>
              
              <button 
                (click)="aggiungiAllaWishlist()"
                class="btn-secondary">
                💕 Aggiungi alla wishlist
              </button>
            </div>
  
          </div>
  
          <!-- Messaggio per utenti NON CLIENTI -->
          <div *ngIf="!isCliente" class="public-message">
            <p>🙋🏽‍♀️ <a routerLink="/login">Accedi</a> per aggiungere prodotti al carrello e alla wishlist!</p>
          </div>
  
        </div>
  
      </div>
  
      <!-- Messaggi di feedback -->
      <div *ngIf="successo" class="success-message">
        ✅ {{ successo }}
      </div>
      
      <div *ngIf="errore && viaggio" class="error-message">
        ⚠️ {{ errore }}
      </div>
  
    </div>
  
  </div>
