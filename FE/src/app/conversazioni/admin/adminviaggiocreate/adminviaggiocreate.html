<div class="admin-container">
  <h1>➕ Nuovo Viaggio</h1>

  <form (ngSubmit)="createViaggio()" #viaggioForm="ngForm">
    <div class="form-group">
      <label for="titolo">Titolo</label>
      <input type="text" id="titolo" name="titolo" [(ngModel)]="viaggio.titolo" required>
    </div>

    <div class="form-group">
      <label for="stato_destinazione">Stato destinazione</label>
      <input type="text" id="stato_destinazione" name="stato_destinazione" [(ngModel)]="viaggio.stato_destinazione" required>
    </div>

    <div class="form-group">
      <label for="destinazione">Destinazione</label>
      <input type="text" id="destinazione" name="destinazione" [(ngModel)]="viaggio.destinazione" required>
    </div>

    <div class="form-group-inline">
      <div class="form-group">
        <label for="partenza">Data partenza</label>
        <input type="date" id="partenza" name="partenza" [(ngModel)]="viaggio.partenza" required>
      </div>
      <div class="form-group">
        <label for="ritorno">Data ritorno</label>
        <input type="date" id="ritorno" name="ritorno" [(ngModel)]="viaggio.ritorno" required>
      </div>
    </div>

    <div class="form-group">
      <label for="descrizione">Descrizione</label>
      <textarea id="descrizione" name="descrizione" [(ngModel)]="viaggio.descrizione" rows="4" required></textarea>
    </div>

    <div class="form-group-inline">
      <div class="form-group">
        <label for="categoria">Categoria</label>
        <select id="categoria" name="categoria" [(ngModel)]="viaggio.categoria" required>
          <option value="">Seleziona categoria</option>
          <option *ngFor="let cat of categorie" [value]="cat">{{ cat }}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="prezzo">Prezzo (€)</label>
        <input type="number" id="prezzo" name="prezzo" [(ngModel)]="viaggio.prezzo" step="0.01" min="0" required>
      </div>
    </div>

    <div class="form-group-inline">
      <div class="form-group">
        <label for="posti">Posti disponibili</label>
        <input type="number" id="posti" name="posti" [(ngModel)]="viaggio.posti" min="0" required>
      </div>
      <div class="form-group">
        <label for="operatore">Operatore</label>
        <input type="number" id="operatore" name="operatore" [(ngModel)]="viaggio.id_operatore" min="1" required>
      </div>
    </div>

    <div class="form-group">
      <label>Stato</label>
      <div class="checkbox-group">
        <label class="checkbox-label">
          <input type="radio" name="stato" value="attivo" [(ngModel)]="viaggio.stato"> Attivo
        </label>
        <label class="checkbox-label">
          <input type="radio" name="stato" value="bloccato" [(ngModel)]="viaggio.stato"> Bloccato
        </label>
        <label class="checkbox-label">
          <input type="radio" name="stato" value="tendenza" [(ngModel)]="viaggio.stato"> Tendenza
        </label>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-crea" [disabled]="!viaggioForm.valid">✅ Crea Viaggio</button>
      <button type="button" (click)="annulla()" class="btn-annulla">❌ Annulla</button>
    </div>
  </form>
</div>
